"0","# rasterize canals ----"
"0","rs <- raster(extent(canals), crs=projection(wgs84))"
"0","rs[] <- 1:ncell(rs)"
"0",""
"0","rsp <- rs %>% rasterToPolygons()"
"0","rp <- roads %>% raster::intersect(rsp)"
"0","rp$length <- rgeos::gLength(rp, byid=TRUE) / 1000"
"0","x <- tapply(rp$length, rp$layer, sum)"
"0",""
"0","canals_r <- rs %>% raster()"
"0","canals_r[as.integer(names(x))] <- x"
"0",""
"0","# canals_r %>% plot()"
"0","# canals %>% lines()"
"0","# KEN_Adm_0 %>% lines()"
"0",""
"0","# rasterize railroads ----"
"0","rs <- raster(extent(railroads), crs=projection(wgs84))"
"0","rs[] <- 1:ncell(rs)"
"0",""
"0","rsp <- rs %>% rasterToPolygons()"
"0","rp <- roads %>% raster::intersect(rsp)"
"0","rp$length <- rgeos::gLength(rp, byid=TRUE) / 1000"
"0","x <- tapply(rp$length, rp$layer, sum)"
"0",""
"0","railroads_r <- rs %>% raster()"
"0","railroads_r[as.integer(names(x))] <- x"
"0",""
"0","# railroads_r %>% plot()"
"0","# railroads %>% lines()"
"0","# KEN_Adm_0 %>% lines()"
